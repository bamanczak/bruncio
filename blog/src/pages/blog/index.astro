---
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";

let postMetaData: any[] = [];
const posts = (await getCollection("blog")).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf(),
);
posts.forEach((post) => {
	let postData = post.data;
	postMetaData.push(postData);
});
import DesktopPage from "../../layouts/DesktopPage.astro";
import Pane from "../../components/BlogPostPane.astro";
import BlogPostsTable from "../../components/BlogPostsTable.svelte";
---

<DesktopPage title={SITE_TITLE} , description={SITE_DESCRIPTION}>
	<Pane
		title="List of posts"
		,
		windowName="postsList"
		footnote={posts.length + " items; free NaN GB"}
	>
		<BlogPostsTable client:load posts={postMetaData} />
	</Pane>
</DesktopPage>
